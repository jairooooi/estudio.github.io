<script type="module">
  // Importar Firebase
  import { initializeApp } from "https://www.gstatic.com/firebasejs/12.9.0/firebase-app.js";
  import { getFirestore, collection, addDoc } from "https://www.gstatic.com/firebasejs/12.9.0/firebase-firestore.js";

  // Configuración de tu proyecto
  const firebaseConfig = {
    apiKey: "AIzaSyCpEC9VpbKrn56iYVbLDn7TdB6KIW3060o",
    authDomain: "estudio-890ee.firebaseapp.com",
    projectId: "estudio-890ee",
    storageBucket: "estudio-890ee.firebasestorage.app",
    messagingSenderId: "296063325492",
    appId: "1:296063325492:web:e63b0f9bef22a47123c161"
  };

  // Inicializar Firebase
  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);

  console.log("Firebase conectado correctamente");

  // Función para guardar datos
  window.guardar = async function() {
    const texto = document.getElementById("mensaje").value;

    try {
      await addDoc(collection(db, "mensajes"), {
        texto: texto,
        fecha: new Date()
      });

      alert("Guardado correctamente en Firestore");
      console.log("Documento guardado");
    } catch (error) {
      console.error("Error al guardar:", error);
    }
  };
</script>
